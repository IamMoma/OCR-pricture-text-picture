{% extends "main_template.html" %}

{% block title %}Upload{% endblock %}

{% block main %}

<div class="container">
    <div class="row">
        <div class="col">

            <h1>Upload An Image</h1>
            <hr>

            <!--Main form-->
            <form action="/" method="POST" enctype="multipart/form-data">

                <div class="form-group">
                    <label>Select image</label>
                    <div class="custom-file">
                        <input oninput="filesize(this);" type="file" class="custom-file-input" name="image" id="image">
                        <label class="custom-file-label" for="image">Select image...</label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Upload</button>


            </form>



            <hr>
            <!--Result - image - text from image - display-->

            <h1>Result:</h1>
            <hr>
            <h2>Image Uploaded:</h2>

            <img style="max-width: 1050px;" src="{{ url_for('static', filename=filename) }}">

            <h2>Text:</h2>
            {% if extracted_text %}
            <p> The extracted text from the image above is: <b> {{ extracted_text }} </b></p>

            {% else %}
            The extracted text will be displayed here
            {% endif %}


        </div>
    </div>
</div>

{% endblock %}

{% block script %}

<SCRIPt>
    function filesize(elem) {
        document.cookie = `filesize=${elem.files[0].size}`;
    }

</SCRIPt>

{% endblock %}